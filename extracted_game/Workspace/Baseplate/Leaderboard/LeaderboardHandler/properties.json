{
    "class": "Script",
    "referent": "RBXF77D12127DBE4C2DA276C3259CCC9E97",
    "properties": {
        "AttributesSerialize": {},
        "Capabilities": "0",
        "DefinesCapabilities": "false",
        "Disabled": "false",
        "HistoryId": "00000000000000000000000000000000",
        "LinkedSource": {
            "null": {}
        },
        "Name": "LeaderboardHandler",
        "RunContext": "0",
        "ScriptGuid": "{FDC49EFD-8D26-429B-8F25-8DEC40617A12}",
        "Source": "local US = game:GetService(\"UserService\")\nlocal DS = game:GetService(\"DataStoreService\")\nlocal P = game:GetService(\"Players\")\nlocal Data = DS:GetOrderedDataStore(\"Sheckles_LeaderboardRESET\")\n\nlocal ScrollingFrame = script.Parent.View.SurfaceGui.Frame.Frame.Frame1.ScrollingFrame\nlocal RefreshText = script.Parent.View.SurfaceGui.Frame.Frame.Frame2.TextLabel1\n\nlocal red = Color3.fromHSV(0, 1, 0.933333)\nlocal green = Color3.fromHSV(0.308028, 1, 0.929412)\n\nlocal ListSize = 50\nlocal updRate = 60\n\nfunction Format(Num)\n\treturn string.format(\"%02i\", Num)\nend\n\nfunction Convert(Seconds)\n\tlocal Minutes = (Seconds - Seconds%60)/60\n\tSeconds = Seconds - Minutes*60\n\tlocal Hours = (Minutes - Minutes%60)/60\n\tMinutes = Minutes - Hours*60\n\treturn Format(Hours)..\":\"..Format(Minutes)..\":\"..Format(Seconds)\nend\n\nwhile true do\n\tfor i, v in pairs(ScrollingFrame:GetChildren()) do \n\t\tif v:IsA(\"Frame\") then v:Destroy() end\n\tend\n\n\tlocal Pages\n\tlocal s,e = pcall(function()\n\t\tPages = Data:GetSortedAsync(false, ListSize)\n\tend)\n\tif s then\n\t\tlocal TopList = Pages:GetCurrentPage()\n\t\tfor i, v in pairs(TopList) do\n\t\t\tlocal UserId = v[\"key\"]\n\t\t\tlocal value = v[\"value\"]\n\t\t\tif not value then continue end\n\n\t\t\tlocal Template = script.Template:Clone()\n\t\t\tlocal Rank = Template.Frame.Placement\n\t\t\tlocal UN = Template.Frame.Username\n\t\t\tlocal AMT = Template.Value\n\t\t\tlocal Pfp = Template.Frame.ImageLabel.ProfilePicture\n\n\t\t\tTemplate.LayoutOrder = i\n\t\t\tAMT.Text = require(game.ReplicatedStorage.Comma_Module).Comma(value)..\"Â¢\"\n\t\t\tRank.Text = \"#\" .. i\n\t\t\t\n\t\t\tlocal color = green:Lerp(red, (i / 50)) -- green:Lerp(red, (i / #TopList))\n\t\t\tAMT.TextColor3 = color\n\t\t\tUN.TextColor3 = color\n\t\t\tRank.TextColor3 = color\n\t\t\tPfp.Parent.ProfilePictureBorder.BackgroundColor3 = color\n\n\t\t\tlocal UserInfo = P:GetNameFromUserIdAsync(UserId)\n\t\t\tlocal PfpImg,ir = P:GetUserThumbnailAsync(UserId,Enum.ThumbnailType.HeadShot,Enum.ThumbnailSize.Size100x100)\n\t\t\tif not UserInfo or not PfpImg then continue end\n\t\t\tUN.Text = \"@\"..UserInfo\n\t\t\tPfp.Image = PfpImg\n\n\t\t\tTemplate.Name = UserInfo\n\t\t\tTemplate.Parent = ScrollingFrame\n\t\tend\n\tend\n\n\tlocal count = updRate\n\ttask.spawn(function()\n\t\tfor i = 1, count do\n\t\t\tcount -= 1\n\t\t\tRefreshText.Text = string.format(\"Refreshes in: %s\",Convert(count))\n\t\t\twait(1)\n\t\tend\n\tend)\n\t\n\ttask.wait(updRate)\nend",
        "SourceAssetId": "-1",
        "Tags": {},
        "UniqueId": "7b69127ba18cb5ba0830eee70000ba40"
    }
}